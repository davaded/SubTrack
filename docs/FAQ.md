# ğŸ™‹ å¸¸è§é—®é¢˜è§£ç­” (FAQ)

## éƒ¨ç½²ç›¸å…³

### Q: ä¸ºä»€ä¹ˆéƒ¨ç½²æ—¶è¦ä½¿ç”¨ `GITHUB_USERNAME=davaded`ï¼Ÿæˆ‘ä¸æ˜¯ davaded å•Šï¼

**A:** è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é—®é¢˜ï¼è®©æˆ‘è¯¦ç»†è§£é‡Šï¼š

**ç®€çŸ­å›ç­”ï¼š** æ˜¯çš„ï¼Œæ‰€æœ‰äººéƒ¨ç½²æ—¶éƒ½ä½¿ç”¨ `GITHUB_USERNAME=davaded`ã€‚

**è¯¦ç»†è§£é‡Šï¼š**

SubTrack æä¾›ä¸¤ç§éƒ¨ç½²æ–¹å¼ï¼š

#### æ–¹å¼ 1ï¼šä½¿ç”¨é¢„æ„å»ºé•œåƒï¼ˆæ¨èï¼‰â­

```bash
export GITHUB_USERNAME=davaded
docker-compose -f docker-compose.prod.yml pull
docker-compose -f docker-compose.prod.yml up -d
```

**ä¸ºä»€ä¹ˆç”¨ `davaded`ï¼Ÿ**
- Docker é•œåƒå·²ç»é¢„å…ˆæ„å»ºå¥½ï¼Œå‘å¸ƒåœ¨ä½œè€…çš„ GitHub Container Registry
- é•œåƒåœ°å€æ˜¯ï¼š`ghcr.io/davaded/subtrack:latest`
- è¿™æ˜¯ä¸€ä¸ª**å…¬å¼€é•œåƒ**ï¼Œæ‰€æœ‰äººéƒ½å¯ä»¥å…è´¹ä½¿ç”¨
- å°±åƒä½ ä» Docker Hub æ‹‰å– `nginx:latest` æˆ– `postgres:15` ä¸€æ ·

**ä¼˜ç‚¹ï¼š**
- âœ… éƒ¨ç½²å¿«é€Ÿï¼ˆ1-2 åˆ†é’Ÿï¼‰
- âœ… ä¸éœ€è¦è‡ªå·±æ„å»º
- âœ… å·²ç»è¿‡æµ‹è¯•å’Œä¼˜åŒ–
- âœ… è‡ªåŠ¨è·å–æ›´æ–°

**ç±»æ¯”ï¼š**
è¿™å°±åƒä½ å®‰è£… Nginx æ—¶ä½¿ç”¨ `docker pull nginx:latest`ï¼Œä½ ä¹Ÿä¸æ˜¯ Nginx çš„ä½œè€…ï¼Œä½†ä½ ä½¿ç”¨ä»–ä»¬å®˜æ–¹å‘å¸ƒçš„é•œåƒã€‚SubTrack ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ã€‚

#### æ–¹å¼ 2ï¼šè‡ªå·±æ„å»ºé•œåƒ

å¦‚æœä½ æƒ³å®Œå…¨è‡ªä¸»æ§åˆ¶ï¼Œå¯ä»¥è‡ªå·±æ„å»ºï¼š

```bash
# ä¸ä½¿ç”¨é¢„æ„å»ºé•œåƒï¼Œåœ¨æœ¬åœ°æ„å»º
docker-compose up -d --build
```

**ä¼˜ç‚¹ï¼š**
- âœ… å®Œå…¨è‡ªä¸»ï¼Œä¸ä¾èµ–ä»–äºº
- âœ… å¯ä»¥è‡ªå®šä¹‰ä¿®æ”¹

**ç¼ºç‚¹ï¼š**
- âŒ æ„å»ºæ—¶é—´é•¿ï¼ˆ5-10 åˆ†é’Ÿï¼‰
- âŒ éœ€è¦æœåŠ¡å™¨èµ„æºï¼ˆCPUã€å†…å­˜ï¼‰

---

### Q: å¦‚æœæˆ‘ fork äº†é¡¹ç›®ï¼Œé…ç½®äº†è‡ªå·±çš„ GitHub Actionsï¼Œåº”è¯¥æ€ä¹ˆåšï¼Ÿ

**A:** å¦‚æœä½ æƒ³å‘å¸ƒè‡ªå·±çš„é•œåƒï¼š

1. **Fork é¡¹ç›®åˆ°ä½ çš„ GitHub è´¦å·**
2. **GitHub Actions ä¼šè‡ªåŠ¨å‘å¸ƒåˆ°ä½ çš„ GHCR**
3. **ä¿®æ”¹éƒ¨ç½²å‘½ä»¤ï¼š**

```bash
# ä½¿ç”¨ä½ è‡ªå·±çš„ç”¨æˆ·å
export GITHUB_USERNAME=ä½ çš„GitHubç”¨æˆ·å
docker-compose -f docker-compose.prod.yml pull
docker-compose -f docker-compose.prod.yml up -d
```

4. **æˆ–è€…ç›´æ¥ä¿®æ”¹ `docker-compose.prod.yml`ï¼š**

```yaml
services:
  web:
    image: ghcr.io/ä½ çš„ç”¨æˆ·å/subtrack:latest
```

---

### Q: é¢„æ„å»ºé•œåƒå®‰å…¨å—ï¼Ÿæˆ‘èƒ½ä¿¡ä»»å—ï¼Ÿ

**A:** å®Œå…¨é€æ˜å’Œå¯éªŒè¯ï¼š

1. **æºä»£ç å…¬å¼€**
   - æ‰€æœ‰ä»£ç éƒ½åœ¨ GitHub ä¸Šï¼šhttps://github.com/davaded/SubTrack
   - å¯ä»¥å®¡æŸ¥æ‰€æœ‰æ–‡ä»¶

2. **æ„å»ºè¿‡ç¨‹å…¬å¼€**
   - GitHub Actions æ„å»ºæ—¥å¿—å®Œå…¨å…¬å¼€
   - è®¿é—®ï¼šhttps://github.com/davaded/SubTrack/actions
   - å¯ä»¥æŸ¥çœ‹æ¯ä¸€æ­¥çš„æ„å»ºè¿‡ç¨‹

3. **é•œåƒå¯éªŒè¯**
   - æ¯ä¸ªé•œåƒéƒ½æœ‰å¯¹åº”çš„ Git commit SHA
   - å¯ä»¥è¿½æº¯åˆ°å…·ä½“çš„ä»£ç ç‰ˆæœ¬

4. **å¦‚æœè¿˜æ˜¯ä¸æ”¾å¿ƒ**
   - ä½¿ç”¨æ–¹å¼ 2ï¼šè‡ªå·±æ„å»ºé•œåƒ
   - Fork é¡¹ç›®ï¼Œè‡ªå·±ç»´æŠ¤

---

### Q: æˆ‘èƒ½æŠŠé¡¹ç›®æ”¹åå« MySubTrack å¹¶å‘å¸ƒè‡ªå·±çš„é•œåƒå—ï¼Ÿ

**A:** å¯ä»¥ï¼è¿™æ˜¯å¼€æºé¡¹ç›®çš„ä¼˜åŠ¿ï¼š

1. **Fork é¡¹ç›®**
2. **ä¿®æ”¹é¡¹ç›®åç§°å’Œé…ç½®**
3. **æ¨é€åˆ°ä½ çš„ä»“åº“**
4. **GitHub Actions ä¼šè‡ªåŠ¨å‘å¸ƒåˆ°ä½ çš„ GHCR**
5. **ä½¿ç”¨ä½ è‡ªå·±çš„é•œåƒéƒ¨ç½²**

è¿™å®Œå…¨ç¬¦åˆ MIT å¼€æºåè®®ã€‚

---

## åŠŸèƒ½ç›¸å…³

### Q: å¿…é¡»é…ç½®é‚®ä»¶æé†’å—ï¼Ÿ

**A:** ä¸æ˜¯å¿…é¡»çš„ã€‚

- é‚®ä»¶æé†’æ˜¯**å¯é€‰åŠŸèƒ½**
- ä¸é…ç½®ä¹Ÿèƒ½æ­£å¸¸ä½¿ç”¨æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½
- å¦‚æœä¸éœ€è¦é‚®ä»¶æé†’ï¼Œ`.env` ä¸­çš„ä»¥ä¸‹é…ç½®å¯ä»¥ç•™ç©ºï¼š
  ```bash
  RESEND_API_KEY=""
  EMAIL_FROM=""
  ```

---

### Q: æ”¯æŒå“ªäº›é€šçŸ¥æ¸ é“ï¼Ÿ

**A:** ç›®å‰æ”¯æŒä¸‰ç§ï¼Œå¯ä»¥å•ç‹¬ä½¿ç”¨æˆ–ç»„åˆä½¿ç”¨ï¼š

1. **é‚®ä»¶é€šçŸ¥** - ä½¿ç”¨ Resend æœåŠ¡
2. **é’‰é’‰é€šçŸ¥** - ä¼ä¸šç¾¤æœºå™¨äºº
3. **é£ä¹¦é€šçŸ¥** - ä¼ä¸šç¾¤æœºå™¨äºº

å…¨éƒ¨æ˜¯å¯é€‰çš„ï¼Œæ ¹æ®éœ€è¦é…ç½®ã€‚

---

### Q: é»˜è®¤ç®¡ç†å‘˜è´¦å·å®‰å…¨å—ï¼Ÿ

**A:** é¦–æ¬¡éƒ¨ç½²æ—¶ä¼šåˆ›å»ºé»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼Œä½†æ˜¯ï¼š

1. **å¯†ç åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®** - ä½ è‡ªå·±è®¾ç½®
2. **é¦–æ¬¡ç™»å½•åä¼šæç¤ºä¿®æ”¹å¯†ç ** - `mustChangePassword: true`
3. **å»ºè®®ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ** - è¿™æ˜¯å®‰å…¨æœ€ä½³å®è·µ

---

### Q: æ³¨å†Œæ¨¡å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**A:** ä¸‰ç§æ¨¡å¼é€‚ç”¨äºä¸åŒåœºæ™¯ï¼š

| æ¨¡å¼ | é€‚ç”¨åœºæ™¯ | è¯´æ˜ |
|------|---------|------|
| **Openï¼ˆå¼€æ”¾ï¼‰** | ä¸ªäººä½¿ç”¨ã€å°å›¢é˜Ÿ | ä»»ä½•äººéƒ½å¯ä»¥æ³¨å†Œ |
| **Approvalï¼ˆå®¡æ‰¹ï¼‰** | å°å…¬å¸ã€éƒ¨é—¨å†…éƒ¨ | æ–°ç”¨æˆ·éœ€è¦ç®¡ç†å‘˜æ‰¹å‡† |
| **Closedï¼ˆå…³é—­ï¼‰** | ç§äººä½¿ç”¨ | ç¦æ­¢æ³¨å†Œï¼Œåªæœ‰ç®¡ç†å‘˜åˆ›å»ºè´¦å· |

å¯ä»¥åœ¨ `/admin/settings` éšæ—¶ä¿®æ”¹ã€‚

---

## æŠ€æœ¯ç›¸å…³

### Q: ä¸ºä»€ä¹ˆä½¿ç”¨ PostgreSQL è€Œä¸æ˜¯ MySQLï¼Ÿ

**A:** PostgreSQL çš„ä¼˜åŠ¿ï¼š

- âœ… æ›´å¼ºå¤§çš„ JSON æ”¯æŒ
- âœ… æ›´å¥½çš„æ•°æ®å®Œæ•´æ€§
- âœ… Prisma ORM å¯¹ PostgreSQL æ”¯æŒæœ€å¥½
- âœ… å¼€æºä¸”å…è´¹

å½“ç„¶ï¼Œå¦‚æœéœ€è¦ï¼Œå¯ä»¥ä¿®æ”¹ Prisma schema æ¥æ”¯æŒ MySQLã€‚

---

### Q: å¯ä»¥éƒ¨ç½²åˆ° Vercel å—ï¼Ÿ

**A:** ç†è®ºä¸Šå¯ä»¥ï¼Œä½†æœ‰é™åˆ¶ï¼š

**é€‚åˆ Vercelï¼š**
- âœ… å‰ç«¯éƒ¨åˆ†
- âœ… API Routes

**ä¸é€‚åˆ Vercelï¼š**
- âŒ éœ€è¦è‡ªå·±çš„ PostgreSQL æ•°æ®åº“
- âŒ Vercel Postgres æœ‰å…è´¹é¢åº¦é™åˆ¶
- âŒ Docker éƒ¨ç½²æ›´ç®€å•å®Œæ•´

**æ¨èï¼š** Docker éƒ¨ç½² > Vercel éƒ¨ç½²

---

### Q: æ”¯æŒå¤šç”¨æˆ·å—ï¼Ÿ

**A:** å®Œå…¨æ”¯æŒï¼

- âœ… æ¯ä¸ªç”¨æˆ·ç‹¬ç«‹çš„è®¢é˜…æ•°æ®
- âœ… ç”¨æˆ·ä¹‹é—´æ•°æ®éš”ç¦»
- âœ… ç®¡ç†å‘˜å¯ä»¥ç®¡ç†æ‰€æœ‰ç”¨æˆ·
- âœ… æ”¯æŒç”¨æˆ·å®¡æ‰¹æœºåˆ¶

---

### Q: æ•°æ®å¯ä»¥å¯¼å‡ºå—ï¼Ÿ

**A:** å¯ä»¥é€šè¿‡æ•°æ®åº“å¤‡ä»½å¯¼å‡ºï¼š

```bash
# å¯¼å‡ºæ•´ä¸ªæ•°æ®åº“
docker-compose -f docker-compose.prod.yml exec db pg_dump -U postgres subtrack > backup.sql

# å¯¼å‡ºç‰¹å®šè¡¨
docker-compose -f docker-compose.prod.yml exec db pg_dump -U postgres -t subscriptions subtrack > subscriptions.sql
```

æœªæ¥ç‰ˆæœ¬ä¼šæ·»åŠ  CSV/Excel å¯¼å‡ºåŠŸèƒ½ã€‚

---

### Q: å¿˜è®°ç®¡ç†å‘˜å¯†ç æ€ä¹ˆåŠï¼Ÿ

**A:** é‡ç½®æ–¹æ³•ï¼š

**æ–¹æ³• 1ï¼šé‡ç½®æ•´ä¸ªæ•°æ®åº“ï¼ˆä¼šä¸¢å¤±æ‰€æœ‰æ•°æ®ï¼‰**
```bash
docker-compose -f docker-compose.prod.yml down
docker volume rm subtrack_postgres_data
docker-compose -f docker-compose.prod.yml up -d
```

**æ–¹æ³• 2ï¼šç›´æ¥ä¿®æ”¹æ•°æ®åº“ï¼ˆä¿ç•™æ•°æ®ï¼‰**
```bash
# 1. è¿›å…¥æ•°æ®åº“å®¹å™¨
docker-compose -f docker-compose.prod.yml exec db psql -U postgres subtrack

# 2. æŸ¥çœ‹ç”¨æˆ·
SELECT id, email, role FROM users;

# 3. é‡ç½®å¯†ç ï¼ˆè®¾ç½® mustChangePasswordï¼‰
UPDATE users SET "must_change_password" = true WHERE role = 'admin';

# 4. æˆ–è€…ç›´æ¥é‡ç½®ä¸ºå·²çŸ¥å¯†ç ï¼ˆéœ€è¦å…ˆç”Ÿæˆ hashï¼‰
# åœ¨æœ¬åœ°è¿è¡Œ Node.jsï¼š
# const bcrypt = require('bcrypt');
# console.log(await bcrypt.hash('newpassword', 10));
```

---

### Q: å¦‚ä½•å‡çº§åˆ°æ–°ç‰ˆæœ¬ï¼Ÿ

**A:** éå¸¸ç®€å•ï¼š

```bash
cd ~/SubTrack
git pull origin main
export GITHUB_USERNAME=davaded
docker-compose -f docker-compose.prod.yml pull
docker-compose -f docker-compose.prod.yml up -d
```

æ•°æ®åº“è¿ç§»ä¼šè‡ªåŠ¨æ‰§è¡Œã€‚

---

### Q: æ€§èƒ½å¦‚ä½•ï¼Ÿèƒ½æ”¯æŒå¤šå°‘ç”¨æˆ·ï¼Ÿ

**A:** å®æµ‹æ•°æ®ï¼š

**é…ç½®ï¼š** 1æ ¸ 1GB RAM

- âœ… æ”¯æŒ 10-50 ä¸ªå¹¶å‘ç”¨æˆ·
- âœ… å“åº”æ—¶é—´ < 200ms
- âœ… æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–ï¼ˆç´¢å¼•ï¼‰

**é…ç½®ï¼š** 2æ ¸ 2GB RAM

- âœ… æ”¯æŒ 100+ å¹¶å‘ç”¨æˆ·
- âœ… å¯ä»¥å¤„ç†æ•°ä¸‡æ¡è®¢é˜…è®°å½•

---

## æ•…éšœæ’æŸ¥

### Q: ç«¯å£ 3000 è¢«å ç”¨æ€ä¹ˆåŠï¼Ÿ

**A:** ä¿®æ”¹ç«¯å£ï¼š

1. **ç¼–è¾‘ `docker-compose.prod.yml`ï¼š**
```yaml
services:
  web:
    ports:
      - "8080:3000"  # æ”¹æˆ 8080 æˆ–å…¶ä»–ç«¯å£
```

2. **é‡å¯æœåŠ¡ï¼š**
```bash
docker-compose -f docker-compose.prod.yml up -d
```

3. **è®¿é—®ï¼š** `http://ä½ çš„IP:8080`

---

### Q: å®¹å™¨å¯åŠ¨å¤±è´¥ï¼Œæ—¥å¿—æ˜¾ç¤ºæ•°æ®åº“è¿æ¥é”™è¯¯ï¼Ÿ

**A:** å¸¸è§åŸå› ï¼š

1. **æ•°æ®åº“å®¹å™¨æœªå¯åŠ¨**
```bash
docker-compose -f docker-compose.prod.yml ps
# ç¡®ä¿ db å®¹å™¨çŠ¶æ€æ˜¯ Up
```

2. **æ•°æ®åº“å¯†ç é…ç½®é”™è¯¯**
```bash
# æ£€æŸ¥ .env æ–‡ä»¶ä¸­çš„ POSTGRES_PASSWORD
# ç¡®ä¿ä¸ docker-compose.prod.yml ä¸­çš„é…ç½®ä¸€è‡´
```

3. **ç­‰å¾…æ•°æ®åº“å¯åŠ¨**
```bash
# æ•°æ®åº“éœ€è¦ 10-20 ç§’å¯åŠ¨ï¼Œweb å®¹å™¨å¯èƒ½å¯åŠ¨å¤ªå¿«
docker-compose -f docker-compose.prod.yml restart web
```

---

### Q: å¦‚ä½•æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼Ÿ

**A:** å¤šç§æ–¹å¼ï¼š

```bash
# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
docker-compose -f docker-compose.prod.yml logs

# åªçœ‹ web å®¹å™¨æ—¥å¿—
docker-compose -f docker-compose.prod.yml logs web

# å®æ—¶æŸ¥çœ‹æ—¥å¿—
docker-compose -f docker-compose.prod.yml logs -f

# æŸ¥çœ‹æœ€å 100 è¡Œ
docker-compose -f docker-compose.prod.yml logs --tail=100
```

---

## æ›´å¤šé—®é¢˜ï¼Ÿ

- ğŸ“– **æŸ¥çœ‹æ–‡æ¡£**ï¼š
  - [å¿«é€Ÿå¼€å§‹](../QUICKSTART.md)
  - [Docker éƒ¨ç½²](../GITHUB_DEPLOY.md)
  - [ç®¡ç†å‘˜æŒ‡å—](../ADMIN_GUIDE.md)

- ğŸ› **æŠ¥å‘Šé—®é¢˜**ï¼š
  - https://github.com/davaded/SubTrack/issues

- ğŸ’¬ **è®¨è®ºäº¤æµ**ï¼š
  - https://github.com/davaded/SubTrack/discussions
